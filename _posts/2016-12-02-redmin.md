---
layout: post
title: RedMine 3.3.1
description: "Gestion de projets"
tags: [réseau, gestion, projet]
---


> Prérequis :

> - Debian Jessie
> - MySQL
> - Apache2

>```lua
>sudo apt-get install gcc
>sudo apt-get install libpq-dev
>sudo apt-get install libmysqlclient-dev
>sudo apt-get install rubygems-integration
```

Ruby 2.1.5 :

```lua
sudo apt-get install ruby-full #installation de 20 paquets
sudo apt-get install ruby-dev #installation de 9 paquets (en cours)
sudo apt-get install ruby
```

Redmine 3.3.1 :

```lua
sudo wget http://www.redmine.org/releases/redmine-3.3.1.tar.gz
sudo tar -xzvf redmine-3.3.1.tar.gz
```

MySQL :

```lua
mysql -u root -p
mysql> CREATE DATABASE redmine CHARACTER SET utf8;
mysql> CREATE USER 'redmine'@'localhost' IDENTIFIED BY 'password';
mysql> GRANT ALL PRIVILEGES ON redmine.* TO 'redmine'@'localhost';
mysql> quit;
```
Installation de Redmine :

```lua
sudo cp redmine-3.3.1/config/database.yml.example redmine-3.3.1/config/database.yml
sudo vim redmine-3.3.1/config/database.yml

production:
  adapter: mysql2
  database: redmine
  host: localhost
  username: redmine
  password: "password"
  encoding: utf8

cd /var/www/redmine-3.3.1/
sudo gem install bundler
bundle install --without development test rmagick
bundle exec rake generate_secret_token
RAILS_ENV=production bundle exec rake db:migrate
RAILS_ENV=production REDMINE_LANG=fr bundle exec rake redmine:load_default_data
sudo mkdir -p tmp tmp/pdf public/plugin_assets
sudo chmod -R 755 files log tmp public/plugin_assets
```

Test de l'installation :

```lua
bundle exec rails server webrick -e production
bundle exec rails server --binding=IP webrick -e production
```
Log In : admin/admin


Redmine sur Apache2 et Passenger : mod_passenger


> Prérequis :

> ````lua
Sudo apt-get install build-essential
````

```lua
sudo apt-get install libcurl4-openssl-dev
sudo apt-get install apache2-dev libapr1-dev libaprutil1-dev

cd /var/www/redmine-3.3.1/
sudo gem install passenger
```

Vérification de l'installation de Passenger :

```lua
sudo gem list
```

Module Apache2 :

```lua
sudo /var/lib/gems/2.1.0/gems/passenger-5.0.30/bin/passenger-install-apache2-module
```

Paramétrage du module pour Apache :

```lua
cd /etc/apache2/mods-available
echo 'LoadModule passenger_module /var/lib/gems/2.1.0/gems/passenger-5.0.30/buildout/
      apache2/mod_passenger.so' > passenger.load
echo 'PassengerRoot /var/lib/gems/1.8/gems/passenger-3.0.11' > passenger.conf
echo 'PassengerRuby /usr/bin/ruby1.8' >>  passenger.conf
```




Virtual Host :

```lua
sudo vim /etc/apache2/sites-available/000-default.conf

 <VirtualHost *:80>
    ServerName redmine.mondomaine.com
    DocumentRoot /var/www/redmine3.3.1/public   
    <Directory /var/www/redmine3.3.1/public/>
                AllowOverride all
                Order allow,deny
                allow from all
                Options -MultiViews
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error_redmine.log
    LogLevel warn
    CustomLog ${APACHE_LOG_DIR}/access_redmine.log combined

 </VirtualHost>
```

Redémarrage du serveur web :

```lua
sudo /etc/init.d/apache2 reload
```

http://redmine.mondomaine.com

```lua
sudo chown -R www-data files log tmp public/plugin_assets
sudo chmod -R 755 files log tmp public/plugin_assets
sudo chown www-data:www-data Gemfile.lock
```

<!-- more -->
